{% extends "base.html" %}

{% block title %}- {{ protein.protein_name }}{% endblock %}
{% block content %}
	<ul>
		<li><a href="#protein_information">Protein Information</a></li>
		<li><a href="#original_protein">Original Protein</a></li>
		<ul>
			<li><a href="#lab_results">Lab Results</a></li>
			<li><a href="#predicted">Predicted</a></li>			
		</ul>		
		<li><a href="#mutated_proteins">Mutated Protein</a></li>
	</ul>

    <h2><a name="protein_information">Protein Information:</a></h2>
    <ul>
		<div>
			<table class="datatable">
			<tr>
			    <th colspan="2" class="detail_header"><a name="protein">Protein</a></th>
			</tr>
			<tr>
			    <th class="detail_subheader">Name</th>
				<td>{{ protein.protein_name }}</td>
			</tr>
			<tr>
			    <th class="detail_subheader">Uniprot Accession</th>
			    <td><a href="http://beta.uniprot.org/uniprot/{{ protein.protein_uniprotaccession }}" target="_blank">{{ protein.protein_uniprotaccession }}</a></td>
			</tr>
			<tr>
			    <th class="detail_subheader">Length</th>
				<td>{{ protein.protein_length }}</td>
			</tr>
			<tr>
			    <th class="detail_subheader">Description</th>
				<td>{{ protein.protein_description }}</td>
			</tr>
			<tr>
			    <th class="detail_subheader">Sequence</th>
				<td><div class="sequence">
                		{{ protein.protein_sequence }}
			        </div></td>
			</tr>	
			<tr>
			    <th class="detail_subheader">Disorder %</th>
				<td>{{ protein.protein_percentageofdisorder }} %</td>
			</tr>																																																					
			</table>
			<table class="datatable">
			<tr>
			    <th colspan="5" class="detail_header"><a name="original_protein">Original Protein<a/></th>
			</tr>
			<tr>
			    <th colspan="5"><a name="lab_results">Lab Results</a></th>
			<tr>
				<td>Sequence</td>
				<td>Start</td>
				<td>End</td>
				<td>Function</td>
				<td>Method</td>
			</tr>
			{% for disorderlab in protein.disorderlab_set.all %}
			<tr>
				<td>
					<a class="toggleNext" href="../../disorderlab/{{disorderlab.disorderlab_id}}">
					<div class="sequence">{{ disorderlab.disorderlab_sequence }}</div>
					</a>
					<div class="hidden"></div>
				</td>
				<td>{{ disorderlab.disorderlab_start }}</td>
				<td>{{ disorderlab.disorderlab_end }}</td>
				<td>{{ disorderlab.disorderlab_functionid_fr.disorderlabfunction_name }}</td>
				<td>{{ disorderlab.disorderlab_methodid_fr.disorderlabmethod_name }}</td>				
			</tr>
			{% endfor %}
			</table>
			
			<table class="datatable">	
			<tr>
			    <th colspan="4"><a name="predicted">Predicted</a></th>
			</tr>			
			<tr>
				<td>Sequence</td>
				<td>Start</td>
				<td>End</td>
				<td>Predictor</td>
			</tr>
			{% for individualpreresultorigprotein in protein.individualpreresultorigprotein_set.all %}
			<tr>
				<td>
					<a class="toggleNext" href="../../individualpreresultorigprotein/
						{{individualpreresultorigprotein.individualpreresultorigprotein_id}}">
					<div class="sequence">{{ individualpreresultorigprotein.individualpreresultorigprotein_sequence }}</div>
					</a>
					<div class="hidden"></div>
				</td>
				<td>{{ individualpreresultorigprotein.individualpreresultorigprotein_start }}</td>
				<td>{{ individualpreresultorigprotein.individualpreresultorigprotein_end }}</td>
				<td>{{ individualpreresultorigprotein.individualpreresultorigprotein_predictorid_fr.predictor_name }}</td>				
			</tr>
			{% endfor %}																																																							
			</table>
			
			<table class="datatable">
			<tr>
			    <th class="detail_header"><a name="mutated_proteins">Mutated Proteins</a></th>
			</tr>
			<tr>
			    <th>Predicted</th>
			</tr>			
			{% for mutprotein in protein.mutprotein_set.all %}
			<tr>
			    <td>
				<div class="sequence">
				{{ mutprotein|safe }}
				</div>
				<p>Disease: {{ mutprotein.mutprotein_disease_id_fr.proteinmutationdisease_name }}</p>
				{% for disochange in mutprotein.individualpremutproteindisochange_set.all %}
				<p>
					Orig score: {{ disochange.individualpremutproteindisochange_origscore }}<br/>
					Mut score: {{ disochange.individualpremutproteindisochange_mutscore }}<br/>	
					Score change: {{ disochange.individualpremutproteindisochange_scorechange }}<br/>
					Disorder change: {{ disochange.individualpremutproteindisochange_disorderchange }}<br/>		
				</p>							
				{% endfor %}
				
				</td>
			</tr>
			{% endfor %}																																																					
			</table>													
		</div>
        <div>
			<a href="../">Back to protein index...</a>
		</div>
    </ul>
{% endblock %}
